package com.test.aug27.service;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.Scanner;

import com.test.aug27.exceptions.InvalidNameException;
import com.test.aug27.exceptions.PlayerValidator;
import com.test.aug27.exceptions.ValidNameException;
import com.test.aug27.pojo.Player;

public class TeamSelection {
	
//	int id;
//	String name;
//	int matchesPlayed;
//	int totRuns;
//	int highestScore;
//	int wktsTaken;
//	int outOnZero;
//	String type;
//	double avgScore;
	
	public static List<Player> playerList = new ArrayList<>();
	public static Scanner sc = new Scanner(System.in);
	public static PlayerValidator pv = new PlayerValidator();
	
	static int count = 20;
	
	public static Player getPlayerData() {
		System.out.println("\nEnter ID: ");
		int id = sc.nextInt();
		System.out.println("Enter name: ");
		String name = sc.next();
		System.out.println("Enter no. of matches played: ");
		int matchesPlayed = sc.nextInt();
		System.out.println("Enter total runs scored: ");
		int totRuns = sc.nextInt();
		System.out.println("Enter highest score: ");
		int highestScore = sc.nextInt();
		System.out.println("Enter no. of wickets taken: ");
		int wktsTaken = sc.nextInt();
		System.out.println("Enter no. of matched ducked out: ");
		int outOnZero = sc.nextInt();
		System.out.println("Enter the player type (batsman/bowler/wicketKeeper/allRounder): ");
		String type = sc.next();
		double avgScore = totRuns / matchesPlayed;
		
		return new Player(id, name, matchesPlayed, totRuns, highestScore, wktsTaken, outOnZero, type, avgScore);
	}
	
	public boolean validateName(String name) {
		Iterator<Player> itr = playerList.iterator();
		boolean ret = true;

		while(itr.hasNext()) {
			Player pl = itr.next();
			try {
//				uv.checkUserName(r.getUserName(), rx.getUserName());
				pv.checkName(name, pl.getName());
			} catch (InvalidNameException e) {
				System.out.println("Username already exists! Use a different one!");
				ret = false;
				break;
			} catch (ValidNameException e) {
				
			}
		}
		return ret;
	}

	public static void main(String[] args) {
		
		System.out.println("Enter details of 20 players: ");
		for(int i = 0; i < 20; ++i) {
			playerList.add(getPlayerData());
		}
		
		

	}

}
